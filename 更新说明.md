# ğŸ‰ æ›´æ–°è¯´æ˜

## âœ… é—®é¢˜å·²ä¿®å¤

### 1. ä¿®å¤ `oss-image init` å‘½ä»¤å¤±è´¥é—®é¢˜

**é—®é¢˜åŸå› ï¼š**
- ä¹‹å‰çš„ä»£ç åœ¨æŸ¥æ‰¾é…ç½®æ¨¡æ¿æ–‡ä»¶æ—¶è·¯å¾„ä¸æ­£ç¡®
- å®‰è£…åçš„åŒ…ç»“æ„ä¸å¼€å‘æ—¶ä¸åŒ

**ä¿®å¤æ–¹æ¡ˆï¼š**
- âœ… å¢åŠ å¤šä¸ªè·¯å¾„æŸ¥æ‰¾é€»è¾‘
- âœ… å¦‚æœæ‰¾ä¸åˆ°æ¨¡æ¿æ–‡ä»¶ï¼Œç›´æ¥ç”Ÿæˆé»˜è®¤é…ç½®
- âœ… æ·»åŠ  `--project` é€‰é¡¹ï¼Œæ”¯æŒåœ¨é¡¹ç›®ç›®å½•åˆ›å»ºé…ç½®

**ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼š**
```bash
# åœ¨ç”¨æˆ·ä¸»ç›®å½•åˆ›å»ºé…ç½®ï¼ˆ~/.oss_image_bed/config.yamlï¼‰
oss-image init

# åœ¨å½“å‰é¡¹ç›®ç›®å½•åˆ›å»ºé…ç½®ï¼ˆ./config.yamlï¼‰
oss-image init --project
```

### 2. ä¿®æ”¹é»˜è®¤ä¿å­˜æ–‡ä»¶å¤¹æ ¼å¼

**ä¹‹å‰ï¼š** `images/{year}/{month}/` â†’ `images/2025/11/`

**ç°åœ¨ï¼š** `{year}{month}{day}/` â†’ `20251105/`

**é…ç½®æ–‡ä»¶ä½ç½®ï¼š** `config.yaml`

```yaml
upload:
  # é»˜è®¤æŒ‰æ—¥æœŸåˆ†ç±»ï¼š20251105/
  path_prefix: "{year}{month}{day}/"
```

**å…¶ä»–å¯é€‰æ ¼å¼ï¼š**
```yaml
# æŒ‰å¹´æœˆåˆ†ç±»
path_prefix: "images/{year}/{month}/"  # images/2025/11/

# å›ºå®šæ–‡ä»¶å¤¹
path_prefix: "blog/"                   # blog/

# æ ¹ç›®å½•
path_prefix: ""                        # ç›´æ¥ä¿å­˜åˆ°æ ¹ç›®å½•
```

## ğŸ¯ æ–°åŠŸèƒ½ï¼šè‡ªå®šä¹‰æ–‡ä»¶å¤¹å‚æ•°

ç°åœ¨å¯ä»¥åœ¨ä¸Šä¼ æ—¶ä¸´æ—¶æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œè¦†ç›–é…ç½®æ–‡ä»¶çš„è®¾ç½®ï¼

### ä¸Šä¼ å•å¼ å›¾ç‰‡

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆ20251105/ï¼‰
oss-image upload image.png

# æŒ‡å®šè‡ªå®šä¹‰æ–‡ä»¶å¤¹
oss-image upload image.png --folder myblog

# ä¿å­˜åˆ°æ ¹ç›®å½•
oss-image upload image.png --folder ""

# å¸¦æ—¥æœŸçš„è‡ªå®šä¹‰æ–‡ä»¶å¤¹
oss-image upload image.png --folder "project/2025/"
```

### æ‰¹é‡ä¸Šä¼ 

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®
oss-image upload-batch ./images/

# æŒ‡å®šè‡ªå®šä¹‰æ–‡ä»¶å¤¹
oss-image upload-batch ./images/ --folder project1

# ä¿å­˜åˆ°ç‰¹å®šé¡¹ç›®æ–‡ä»¶å¤¹
oss-image upload-batch ./screenshots/ --folder "docs/screenshots/"
```

## ğŸ“‹ å®Œæ•´ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1ï¼šæ—¥å¸¸æˆªå›¾ï¼ˆä½¿ç”¨é»˜è®¤æ—¥æœŸæ–‡ä»¶å¤¹ï¼‰

```bash
# ä»Šå¤©æ˜¯ 2025-11-05
oss-image upload ~/Desktop/screenshot.png

# å›¾ç‰‡ä¼šä¿å­˜åˆ°ï¼š20251105/xxx.png
# URL: https://rickzo.oss-cn-guangzhou.aliyuncs.com/20251105/xxx.png
```

### åœºæ™¯2ï¼šæŒ‰é¡¹ç›®åˆ†ç±»

```bash
# ä¸Šä¼ é¡¹ç›®Açš„å›¾ç‰‡
oss-image upload diagram.png --folder projectA

# ä¸Šä¼ é¡¹ç›®Bçš„å›¾ç‰‡
oss-image upload design.png --folder projectB

# ç»“æœï¼š
# https://rickzo.oss-cn-guangzhou.aliyuncs.com/projectA/xxx.png
# https://rickzo.oss-cn-guangzhou.aliyuncs.com/projectB/xxx.png
```

### åœºæ™¯3ï¼šåšå®¢æ–‡ç« å›¾ç‰‡

```bash
# ä¸ºç‰¹å®šæ–‡ç« åˆ›å»ºæ–‡ä»¶å¤¹
oss-image upload-batch ./article-images/ --folder "blog/docker-tutorial"

# æ‰€æœ‰å›¾ç‰‡éƒ½ä¿å­˜åœ¨ï¼šblog/docker-tutorial/
```

### åœºæ™¯4ï¼šæ··åˆä½¿ç”¨

```bash
# ä¿®æ”¹é…ç½®æ–‡ä»¶çš„é»˜è®¤å€¼
vim config.yaml
# è®¾ç½® path_prefix: "images/{year}/"

# å¤§éƒ¨åˆ†å›¾ç‰‡ä½¿ç”¨é»˜è®¤é…ç½®ï¼šimages/2025/
oss-image upload photo.png

# ç‰¹æ®Šå›¾ç‰‡ä½¿ç”¨è‡ªå®šä¹‰æ–‡ä»¶å¤¹
oss-image upload logo.png --folder "assets/logos/"
```

## ğŸ”§ é…ç½®æ–‡ä»¶å˜é‡è¯´æ˜

åœ¨ `config.yaml` ä¸­ï¼Œ`path_prefix` æ”¯æŒä»¥ä¸‹å˜é‡ï¼š

| å˜é‡ | æ ¼å¼ | ç¤ºä¾‹ | è¯´æ˜ |
|------|------|------|------|
| `{year}` | 4ä½å¹´ä»½ | 2025 | å½“å‰å¹´ä»½ |
| `{month}` | 2ä½æœˆä»½ | 01, 11 | å½“å‰æœˆä»½ï¼ˆè¡¥é›¶ï¼‰|
| `{day}` | 2ä½æ—¥æœŸ | 01, 05 | å½“å‰æ—¥æœŸï¼ˆè¡¥é›¶ï¼‰|

**ç¤ºä¾‹é…ç½®ï¼š**

```yaml
# æ ¼å¼ï¼š20251105/
path_prefix: "{year}{month}{day}/"

# æ ¼å¼ï¼š2025/11/05/
path_prefix: "{year}/{month}/{day}/"

# æ ¼å¼ï¼š2025-11/
path_prefix: "{year}-{month}/"

# æ ¼å¼ï¼šimages/2025/
path_prefix: "images/{year}/"

# æ ¼å¼ï¼šblog/20251105/
path_prefix: "blog/{year}{month}{day}/"
```

## ğŸ“š å‘½ä»¤å‚è€ƒ

### åˆå§‹åŒ–é…ç½®

```bash
# åœ¨ç”¨æˆ·ä¸»ç›®å½•åˆ›å»ºé…ç½®
oss-image init

# åœ¨å½“å‰é¡¹ç›®ç›®å½•åˆ›å»ºé…ç½®
oss-image init --project
```

### ä¸Šä¼ å›¾ç‰‡

```bash
# åŸºæœ¬ç”¨æ³•
oss-image upload <å›¾ç‰‡è·¯å¾„>

# å¸¦é€‰é¡¹
oss-image upload <å›¾ç‰‡è·¯å¾„> --folder <æ–‡ä»¶å¤¹> --alt <æè¿°æ–‡å­—>

# æŸ¥çœ‹å¸®åŠ©
oss-image upload --help
```

### æ‰¹é‡ä¸Šä¼ 

```bash
# åŸºæœ¬ç”¨æ³•
oss-image upload-batch <ç›®å½•è·¯å¾„>

# å¸¦é€‰é¡¹
oss-image upload-batch <ç›®å½•è·¯å¾„> --folder <æ–‡ä»¶å¤¹> --recursive

# æŸ¥çœ‹å¸®åŠ©
oss-image upload-batch --help
```

### å…¶ä»–å‘½ä»¤

```bash
# æŸ¥çœ‹é…ç½®
oss-image config show

# æµ‹è¯•è¿æ¥
oss-image config test

# åˆ—å‡ºæ–‡ä»¶
oss-image list-files

# æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
oss-image --help
```

## ğŸ¯ æ¨èå·¥ä½œæµ

### æ–¹æ¡ˆ1ï¼šä¸¥æ ¼æŒ‰æ—¥æœŸåˆ†ç±»ï¼ˆæ¨èï¼‰

**é…ç½®ï¼š**
```yaml
path_prefix: "{year}{month}{day}/"
```

**ä¼˜ç‚¹ï¼š**
- æ¯å¤©çš„å›¾ç‰‡ç‹¬ç«‹æ–‡ä»¶å¤¹
- ä¾¿äºæŸ¥æ‰¾å’Œç®¡ç†
- URLç®€æ´

**ä½¿ç”¨ï¼š**
```bash
# ç›´æ¥ä¸Šä¼ ï¼Œè‡ªåŠ¨æŒ‰æ—¥æœŸåˆ†ç±»
oss-image upload screenshot.png
```

### æ–¹æ¡ˆ2ï¼šæŒ‰å¹´æœˆåˆ†ç±»

**é…ç½®ï¼š**
```yaml
path_prefix: "images/{year}/{month}/"
```

**ä¼˜ç‚¹ï¼š**
- æ›´å¤§çš„åˆ†ç±»ç²’åº¦
- ä¾¿äºæŒ‰æœˆå½’æ¡£

**ä½¿ç”¨ï¼š**
```bash
oss-image upload photo.png
# ä¿å­˜åˆ°ï¼šimages/2025/11/
```

### æ–¹æ¡ˆ3ï¼šçµæ´»æ··åˆ

**é…ç½®ï¼š**
```yaml
path_prefix: "{year}{month}{day}/"  # é»˜è®¤æŒ‰æ—¥æœŸ
```

**æ—¥å¸¸ä½¿ç”¨é»˜è®¤ï¼Œç‰¹æ®Šæƒ…å†µæŒ‡å®šï¼š**
```bash
# æ—¥å¸¸æˆªå›¾ - ä½¿ç”¨é»˜è®¤
oss-image upload daily.png

# é¡¹ç›®å›¾ç‰‡ - æŒ‡å®šæ–‡ä»¶å¤¹
oss-image upload project.png --folder myproject

# é‡è¦èµ„æº - å›ºå®šä½ç½®
oss-image upload logo.png --folder assets/logos
```

## âš™ï¸ å½“å‰é…ç½®æ£€æŸ¥

æŸ¥çœ‹ä½ çš„å½“å‰é…ç½®ï¼š

```bash
cd /Users/rick/Documents/AIäº§å“å¼€å‘/aliyun-oss-image-bed
cat config.yaml | grep path_prefix
```

åº”è¯¥æ˜¾ç¤ºï¼š
```yaml
path_prefix: "{year}{month}{day}/"
```

## âœ¨ æ€»ç»“

ç°åœ¨ä½ å¯ä»¥ï¼š

1. âœ… **ä½¿ç”¨ `oss-image init` å‘½ä»¤** - å·²ä¿®å¤ï¼Œå¯ä»¥æ­£å¸¸åˆå§‹åŒ–é…ç½®
2. âœ… **é»˜è®¤æŒ‰æ—¥æœŸä¿å­˜** - æ ¼å¼ï¼š20251105/
3. âœ… **è‡ªå®šä¹‰æ–‡ä»¶å¤¹** - ä½¿ç”¨ `--folder` å‚æ•°çµæ´»æŒ‡å®š
4. âœ… **çµæ´»é…ç½®** - åœ¨é…ç½®æ–‡ä»¶ä¸­è‡ªå®šä¹‰é»˜è®¤æ ¼å¼

å¼€å§‹ä½¿ç”¨å§ï¼ğŸš€

---

**æµ‹è¯•å‘½ä»¤ï¼š**

```bash
# 1. æµ‹è¯•é…ç½®ï¼ˆç¡®ä¿å·²å¡«å†™ AccessKeyï¼‰
cd /Users/rick/Documents/AIäº§å“å¼€å‘/aliyun-oss-image-bed
oss-image config test

# 2. æµ‹è¯•ä¸Šä¼ ï¼ˆæ‰¾ä¸€å¼ æµ‹è¯•å›¾ç‰‡ï¼‰
oss-image upload ~/Desktop/test.png

# 3. æŸ¥çœ‹ç»“æœï¼ˆåº”è¯¥ä¿å­˜åœ¨ 20251105/ æ–‡ä»¶å¤¹ä¸‹ï¼‰
```

